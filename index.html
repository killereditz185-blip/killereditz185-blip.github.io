<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Rizwan K T K - Background Remover</title>

<style>
body{
    margin:0;
    font-family:Arial, sans-serif;
    background: linear-gradient(135deg,#0f2027,#203a43,#2c5364);
    display:flex;
    justify-content:center;
    align-items:center;
    height:100vh;
    color:white;
}

.container{
    background:#1e1e2f;
    padding:30px;
    border-radius:20px;
    width:400px;
    text-align:center;
    box-shadow:0 0 30px rgba(0,0,0,0.6);
}

h1{
    margin-bottom:20px;
}

button{
    margin:10px;
    padding:10px 20px;
    border:none;
    border-radius:8px;
    cursor:pointer;
    font-weight:bold;
}

.upload-btn{background:#3498db;color:white;}
.remove-btn{background:#e74c3c;color:white;}
.download-btn{background:#2ecc71;color:white;display:none;}

img{
    max-width:100%;
    margin-top:20px;
    border-radius:10px;
}

.loader{
    display:none;
    margin-top:10px;
}
</style>
</head>

<body>

<div class="container">
    <h1>Rizwan K T K</h1>

    <input type="file" id="fileInput" hidden>
    <button class="upload-btn" onclick="document.getElementById('fileInput').click()">Upload Image</button>
    <button class="remove-btn" onclick="removeBg()">Remove Background</button>
    <button class="download-btn" id="downloadBtn" onclick="downloadImage()">Download</button>

    <div class="loader" id="loader">Processing...</div>

    <img id="preview">
</div>

<script>
let selectedFile;
let outputBlob;

document.getElementById("fileInput").addEventListener("change", function(e){
    selectedFile = e.target.files[0];
    document.getElementById("preview").src = URL.createObjectURL(selectedFile);
});

async function removeBg(){
    if(!selectedFile){
        alert("Please upload an image first");
        return;
    }

    document.getElementById("loader").style.display="block";

    const formData = new FormData();
    formData.append("image_file", selectedFile);
    formData.append("size", "auto");

    const response = await fetch("https://api.remove.bg/v1.0/removebg", {
        method:"POST",
        headers:{
            "X-Api-Key":"QJZV1TkmNquJStFhsrKc4sXT"
        },
        body:formData
    });

    if(response.ok){
        outputBlob = await response.blob();
        const imageURL = URL.createObjectURL(outputBlob);
        document.getElementById("preview").src = imageURL;
        document.getElementById("downloadBtn").style.display="inline-block";
    } else {
        alert("Error removing background");
    }

    document.getElementById("loader").style.display="none";
}

function downloadImage(){
    const a = document.createElement("a");
    a.href = URL.createObjectURL(outputBlob);
    a.download = "rizwan-ktk.png";
    a.click();
}
</script>

</body>
</html>
